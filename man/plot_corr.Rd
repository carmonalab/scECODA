% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting.r
\name{plot_corr}
\alias{plot_corr}
\title{Plot Cell Type Correlation Matrix}
\usage{
plot_corr(
  ecoda_object,
  use_only_hvcs = FALSE,
  order = "hclust",
  hclust.method = "ward.D2",
  ...
)
}
\arguments{
\item{ecoda_object}{An \link[=ECODA-class]{ECODA} object containing the
CLR-transformed abundances in the \code{clr} slot.}

\item{use_only_hvcs}{Logical (default: \code{FALSE}). If \code{TRUE}, the correlation plot
will be restricted to only the cell types present in the
\code{ecoda_object@hvcs} slot (Highly Variable Cell Types).}

\item{order}{Character string (default: \code{"hclust"}). The ordering method
for the correlation matrix. Common options include:
\itemize{
\item \code{"original"} (no reordering)
\item \code{"hclust"} (hierarchical clustering)
\item \code{"FPC"} (first principal component order)
}}

\item{hclust.method}{Character string (default: \code{"ward.D2"}). The
hierarchical clustering method to use if \code{order} is
set to \code{"hclust"}.}

\item{...}{Additional arguments passed to \code{corrplot::corrplot} for plot
customization (e.g., \code{method}, \code{type}, \code{tl.col}).}
}
\value{
A plot object generated by \code{corrplot::corrplot}, which is a
base R plot or a grid object depending on the \code{corrplot} version and options.
}
\description{
Calculates the pairwise Pearson correlation matrix for all cell types (columns)
using the Centered Log-Ratio (CLR) transformed abundances stored in
\code{ecoda_object@clr}. It then visualizes this matrix as a heatmap using
\code{corrplot::corrplot}.
}
\details{
The function uses the CLR matrix, where high correlation between two cell types
suggests they vary together across samples, indicating potential co-occurrence
or co-regulation.
}
